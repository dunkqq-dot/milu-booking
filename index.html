<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç·šä¸Šé ç´„ | MILU Balloons</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- å­—é«” -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Playfair+Display:ital,wght@0,600;1,600&display=swap" rel="stylesheet">
    <!-- Font Awesome åœ–ç¤º -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- LIFF SDK -->
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        milu: { 
                            gold: '#C69C6D', 
                            goldLight: '#E8DCCF',
                            dark: '#4A4A4A', 
                            beige: '#F9F7F2',
                            gray: '#888888'
                        }
                    },
                    fontFamily: {
                        serif: ['"Playfair Display"', 'serif'],
                        sans: ['"Noto Sans TC"', 'sans-serif'],
                    },
                    animation: {
                        'fade-in-up': 'fadeInUp 0.5s ease-out',
                    },
                    keyframes: {
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        html, body { margin: 0; padding: 0; width: 100%; height: 100%; overflow-x: hidden; background-color: #F9F7F2; font-family: 'Noto Sans TC', sans-serif; color: #4A4A4A; }
        body { padding-bottom: 80px; } /* åº•éƒ¨ç•™ç™½çµ¦æŒ‰éˆ• */
        
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        .hidden { display: none; }
        
        .input-group { position: relative; margin-bottom: 1.25rem; }
        .input-label { display: flex; align-items: center; gap: 6px; margin-bottom: 0.5rem; color: #6B7280; font-size: 0.85rem; font-weight: 500; letter-spacing: 0.05em; }
        .input-label i { color: #C69C6D; font-size: 0.9rem; }
        
        .custom-input { 
            width: 100%; padding: 12px 16px; background-color: #FFFFFF; border: 1px solid #E5E7EB; border-radius: 12px; font-size: 15px; color: #374151; transition: all 0.2s ease; box-shadow: 0 2px 5px rgba(0,0,0,0.02); -webkit-appearance: none;
        }
        .custom-input:focus { border-color: #C69C6D; outline: none; box-shadow: 0 0 0 3px rgba(198, 156, 109, 0.15); }
        .custom-input::placeholder { color: #D1D5DB; }
        .custom-input[readonly] { background-color: #F9FAFB; color: #9CA3AF; border-color: #F3F4F6; cursor: not-allowed; }

        select.custom-input { 
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23C69C6D' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e"); 
            background-position: right 1rem center; background-repeat: no-repeat; background-size: 1.2em 1.2em; padding-right: 2.5rem; 
        }

        .checkbox-container { background: #FFFFFF; padding: 16px; border-radius: 12px; border: 1px solid #F3F4F6; margin-top: 10px; }
        .checkbox-item { display: flex; align-items: flex-start; gap: 10px; margin-bottom: 12px; font-size: 0.9rem; color: #555; cursor: pointer; line-height: 1.6; }
        .checkbox-item:last-child { margin-bottom: 0; }
        .checkbox-input { margin-top: 4px; accent-color: #C69C6D; width: 18px; height: 18px; flex-shrink: 0; }

        .tab-btn { padding: 0.6rem 1.2rem; border-radius: 12px; font-size: 0.9rem; font-weight: 500; transition: all 0.3s; white-space: nowrap; color: #6B7280; background: rgba(255,255,255,0.6); border: 1px solid transparent; }
        .tab-active { background-color: #C69C6D; color: white; box-shadow: 0 4px 10px rgba(198, 156, 109, 0.3); transform: translateY(-1px); }

        .radio-label { display: flex; flex: 1; align-items: center; justify-content: center; border: 1px solid #E5E7EB; background: white; padding: 12px; border-radius: 12px; cursor: pointer; transition: all 0.2s; color: #6B7280; font-size: 0.9rem; }
        .radio-label:hover { border-color: #C69C6D; color: #C69C6D; }
        .radio-input:checked + span { color: white; }
        .radio-label:has(.radio-input:checked) { background-color: #4A4A4A; border-color: #4A4A4A; color: white; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }

        #fallback-success { display: none; padding: 40px 20px; text-align: center; }
        
        .glass-header { background: rgba(249, 247, 242, 0.9); backdrop-filter: blur(10px); position: sticky; top: 0; z-index: 50; }
    </style>
</head>
<body>

    <script>
        const config = {
            LIFF_ID: '2004044468-w8s4Ex1k', 
            
            DECO: { 
                ACTION: 'https://docs.google.com/forms/d/e/1FAIpQLSeuoWKBH5N0OD2ndd4lQY7HS-CplTGh7aN1P_KUsnIV0L22hg/formResponse', 
                LINE_ID: '25342459', DATE_ID: '144531671', TIME_ID: '1297034041', ADDRESS_ID: '362812274', LOCATION_ID: '2051909207', NAME_ID: '1515108566', PHONE_ID: '2029864194', TERMS_ID: '1988418855', 
                SYSTEM_ID: '854196062', PAYMENT_ID: '1383504004', SERVICE_ID: '' 
            },
            DELIVERY: { 
                ACTION: 'https://docs.google.com/forms/d/e/1FAIpQLSeS_OuOMGKgpOmvVZdDtgzG_pBFLn6lbmg_8SsN5-XwBOg3kw/formResponse', 
                LINE_ID: '25342459', DATE_ID: '1600332996', TIME_ID: '2101241835', ADDRESS_ID: '1233565012', RECEIVER_ID: '431322564', PHONE_ID: '542364066', TERMS_ID: '391729019', 
                SYSTEM_ID: '2002313802', PAYMENT_ID: '1973575588', SERVICE_ID: ''
            }, 
            TRUNK: { 
                ACTION: 'https://docs.google.com/forms/d/e/1FAIpQLSdm8LpSR3hTEWQ2lDfNymhZD91WFyHXWqciFPV0dSxrKViw0Q/formResponse', 
                LINE_ID: '25342459', LOCATION_ID: '1086826795', DATE_ID: '1836239432', TIME_ID: '1130825436', CAR_ID: '1571766022', NAME_ID: '1970717609', PHONE_ID: '1029904286', TERMS_ID: '1380789591', 
                SYSTEM_ID: '1545965466', PAYMENT_ID: '352227586', SERVICE_ID: ''
            },
            PICKUP: { 
                ACTION: 'https://docs.google.com/forms/d/e/1FAIpQLSeGfmaUfKjyhvUcerp1gpXU25-C6TRJBkCMyzGBg7qykSkjYg/formResponse', 
                LINE_ID: '25342459', LOCATION_ID: '1448770209', DATE_ID: '995623192', TIME_ID: '1255688304', NAME_ID: '1307528521', PHONE_ID: '1776788492', TERMS_ID: '178386428', 
                SYSTEM_ID: '1557454594', PAYMENT_ID: '347397920', SERVICE_ID: ''
            }
        };

        const taiwanPlaces = {
            "è‡ºåŒ—å¸‚": ["ä¸­æ­£å€", "å¤§åŒå€", "ä¸­å±±å€", "æ¾å±±å€", "å¤§å®‰å€", "è¬è¯å€", "ä¿¡ç¾©å€", "å£«æ—å€", "åŒ—æŠ•å€", "å…§æ¹–å€", "å—æ¸¯å€", "æ–‡å±±å€"],
            "æ–°åŒ—å¸‚": ["æ¿æ©‹å€", "ä¸‰é‡å€", "ä¸­å’Œå€", "æ°¸å’Œå€", "æ–°èŠå€", "æ–°åº—å€", "æ¨¹æ—å€", "é¶¯æ­Œå€", "ä¸‰å³½å€", "æ·¡æ°´å€", "æ±æ­¢å€", "ç‘èŠ³å€", "åœŸåŸå€", "è˜†æ´²å€", "äº”è‚¡å€", "æ³°å±±å€", "æ—å£å€", "æ·±å‘å€", "çŸ³ç¢‡å€", "åªæ—å€", "ä¸‰èŠå€", "çŸ³é–€å€", "å…«é‡Œå€", "å¹³æºªå€", "é›™æºªå€", "è²¢å¯®å€", "é‡‘å±±å€", "è¬é‡Œå€", "çƒä¾†å€"],
            "æ¡ƒåœ’å¸‚": ["æ¡ƒåœ’å€", "ä¸­å£¢å€", "å¤§æºªå€", "æ¥Šæ¢…å€", "è˜†ç«¹å€", "å¤§åœ’å€", "é¾œå±±å€", "å…«å¾·å€", "é¾æ½­å€", "å¹³é®å€", "æ–°å±‹å€", "è§€éŸ³å€", "å¾©èˆˆå€"],
            "è‡ºä¸­å¸‚": ["ä¸­å€", "æ±å€", "å—å€", "è¥¿å€", "åŒ—å€", "åŒ—å±¯å€", "è¥¿å±¯å€", "å—å±¯å€", "å¤ªå¹³å€", "å¤§é‡Œå€", "éœ§å³°å€", "çƒæ—¥å€", "è±åŸå€", "åé‡Œå€", "çŸ³å²¡å€", "æ±å‹¢å€", "å’Œå¹³å€", "æ–°ç¤¾å€", "æ½­å­å€", "å¤§é›…å€", "ç¥å²¡å€", "å¤§è‚šå€", "æ²™é¹¿å€", "é¾äº•å€", "æ¢§æ£²å€", "æ¸…æ°´å€", "å¤§ç”²å€", "å¤–åŸ”å€", "å¤§å®‰å€"],
            "è‡ºå—å¸‚": ["ä¸­è¥¿å€", "æ±å€", "å—å€", "åŒ—å€", "å®‰å¹³å€", "å®‰å—å€", "æ°¸åº·å€", "æ­¸ä»å€", "æ–°åŒ–å€", "å·¦é®å€", "ç‰äº•å€", "æ¥ è¥¿å€", "å—åŒ–å€", "ä»å¾·å€", "é—œå»Ÿå€", "é¾å´å€", "å®˜ç”°å€", "éº»è±†å€", "ä½³é‡Œå€", "è¥¿æ¸¯å€", "ä¸ƒè‚¡å€", "å°‡è»å€", "å­¸ç”²å€", "åŒ—é–€å€", "æ–°ç‡Ÿå€", "å¾Œå£å€", "ç™½æ²³å€", "æ±å±±å€", "å…­ç”²å€", "ä¸‹ç‡Ÿå€", "æŸ³ç‡Ÿå€", "é¹½æ°´å€", "å–„åŒ–å€", "å¤§å…§å€", "å±±ä¸Šå€", "æ–°å¸‚å€", "å®‰å®šå€"],
            "é«˜é›„å¸‚": ["æ¥ æ¢“å€", "å·¦ç‡Ÿå€", "é¼“å±±å€", "ä¸‰æ°‘å€", "è‹“é›…å€", "æ–°èˆˆå€", "å‰é‡‘å€", "é¹½åŸ•å€", "å‰é®å€", "æ——æ´¥å€", "å°æ¸¯å€", "é³³å±±å€", "æ—åœ’å€", "å¤§å¯®å€", "å¤§æ¨¹å€", "å¤§ç¤¾å€", "ä»æ­¦å€", "é³¥æ¾å€", "å²¡å±±å€", "æ©‹é ­å€", "ç‡•å·¢å€", "ç”°å¯®å€", "é˜¿è“®å€", "è·¯ç«¹å€", "æ¹–å…§å€", "èŒ„è£å€", "æ°¸å®‰å€", "å½Œé™€å€", "æ¢“å®˜å€", "æ——å±±å€", "ç¾æ¿ƒå€", "å…­é¾œå€", "ç”²ä»™å€", "æ‰æ—å€", "å…§é–€å€", "èŒ‚æ—å€", "æ¡ƒæºå€", "é‚£ç‘ªå¤å€"],
            "åŸºéš†å¸‚": ["ä»æ„›å€", "ä¿¡ç¾©å€", "ä¸­æ­£å€", "ä¸­å±±å€", "å®‰æ¨‚å€", "æš–æš–å€", "ä¸ƒå µå€"],
            "æ–°ç«¹å¸‚": ["æ±å€", "åŒ—å€", "é¦™å±±å€"],
            "å˜‰ç¾©å¸‚": ["æ±å€", "è¥¿å€"],
            "æ–°ç«¹ç¸£": ["ç«¹åŒ—å¸‚", "ç«¹æ±é®", "æ–°åŸ”é®", "é—œè¥¿é®", "æ¹–å£é„‰", "æ–°è±é„‰", "èŠæ—é„‰", "æ©«å±±é„‰", "åŒ—åŸ”é„‰", "å¯¶å±±é„‰", "å¤§å±±èƒŒ", "å³¨çœ‰é„‰", "å°–çŸ³é„‰", "äº”å³°é„‰"],
            "è‹—æ —ç¸£": ["è‹—æ —å¸‚", "é ­ä»½å¸‚", "è‹‘è£¡é®", "é€šéœ„é®", "ç«¹å—é®", "å¾Œé¾é®", "å“è˜­é®", "å¤§æ¹–é„‰", "å…¬é¤¨é„‰", "éŠ…é‘¼é„‰", "å—åº„é„‰", "é ­å±‹é„‰", "ä¸‰ç¾©é„‰", "è¥¿æ¹–é„‰", "é€ æ©‹é„‰", "ä¸‰ç£é„‰", "ç…æ½­é„‰", "æ³°å®‰é„‰"],
            "å½°åŒ–ç¸£": ["å½°åŒ–å¸‚", "å“¡æ—å¸‚", "å’Œç¾é®", "é¹¿æ¸¯é®", "æºªæ¹–é®", "äºŒæ—é®", "ç”°ä¸­é®", "åŒ—æ–—é®", "èŠ±å£‡é„‰", "èŠ¬åœ’é„‰", "å¤§æ‘é„‰", "æ°¸é–é„‰", "ä¼¸æ¸¯é„‰", "ç·šè¥¿é„‰", "ç¦èˆˆé„‰", "ç§€æ°´é„‰", "åŸ”å¿ƒé„‰", "åŸ”é¹½é„‰", "å¤§åŸé„‰", "èŠ³è‹‘é„‰", "ç«¹å¡˜é„‰", "ç¤¾é ­é„‰", "äºŒæ°´é„‰", "ç”°å°¾é„‰", "åŸ¤é ­é„‰", "æºªå·é„‰"],
            "å—æŠ•ç¸£": ["å—æŠ•å¸‚", "åŸ”é‡Œé®", "è‰å±¯é®", "ç«¹å±±é®", "é›†é›†é®", "åé–“é„‰", "é¹¿è°·é„‰", "ä¸­å¯®é„‰", "é­šæ± é„‰", "åœ‹å§“é„‰", "æ°´é‡Œé„‰", "ä¿¡ç¾©é„‰", "ä»æ„›é„‰"],
            "é›²æ—ç¸£": ["æ–—å…­å¸‚", "æ–—å—é®", "è™å°¾é®", "è¥¿èºé®", "åœŸåº«é®", "åŒ—æ¸¯é®", "å¤å‘é„‰", "å¤§åŸ¤é„‰", "è¿æ¡é„‰", "æ—å…§é„‰", "äºŒå´™é„‰", "å´™èƒŒé„‰", "éº¥å¯®é„‰", "æ±å‹¢é„‰", "è¤’å¿ é„‰", "è‡ºè¥¿é„‰", "å…ƒé•·é„‰", "å››æ¹–é„‰", "å£æ¹–é„‰", "æ°´æ—é„‰"],
            "å˜‰ç¾©ç¸£": ["å¤ªä¿å¸‚", "æœ´å­å¸‚", "å¸ƒè¢‹é®", "å¤§æ—é®", "æ°‘é›„é„‰", "æºªå£é„‰", "æ–°æ¸¯é„‰", "å…­è…³é„‰", "æ±çŸ³é„‰", "ç¾©ç«¹é„‰", "é¹¿è‰é„‰", "æ°´ä¸Šé„‰", "ä¸­åŸ”é„‰", "ç«¹å´é„‰", "æ¢…å±±é„‰", "ç•ªè·¯é„‰", "å¤§åŸ”é„‰", "é˜¿é‡Œå±±é„‰"],
            "å±æ±ç¸£": ["å±æ±å¸‚", "æ½®å·é®", "æ±æ¸¯é®", "æ†æ˜¥é®", "è¬ä¸¹é„‰", "é•·æ²»é„‰", "éºŸæ´›é„‰", "ä¹å¦‚é„‰", "é‡Œæ¸¯é„‰", "é¹½åŸ”é„‰", "é«˜æ¨¹é„‰", "è¬å·’é„‰", "å…§åŸ”é„‰", "ç«¹ç”°é„‰", "æ–°åŸ¤é„‰", "æ‹å¯®é„‰", "æ–°åœ’é„‰", "å´é ‚é„‰", "æ—é‚Šé„‰", "å—å·é„‰", "ä½³å†¬é„‰", "ç‰çƒé„‰", "è»ŠåŸé„‰", "æ»¿å·é„‰", "æ‹å±±é„‰", "ä¸‰åœ°é–€é„‰", "éœ§è‡ºé„‰", "ç‘ªå®¶é„‰", "æ³°æ­¦é„‰", "ä¾†ç¾©é„‰", "æ˜¥æ—¥é„‰", "ç…å­é„‰", "ç‰¡ä¸¹é„‰"],
            "å®œè˜­ç¸£": ["å®œè˜­å¸‚", "ç¾…æ±é®", "è˜‡æ¾³é®", "é ­åŸé®", "ç¤æºªé„‰", "å£¯åœé„‰", "å“¡å±±é„‰", "å†¬å±±é„‰", "äº”çµé„‰", "ä¸‰æ˜Ÿé„‰", "å¤§åŒé„‰", "å—æ¾³é„‰"],
            "èŠ±è“®ç¸£": ["èŠ±è“®å¸‚", "é³³æ—é®", "ç‰é‡Œé®", "æ–°åŸé„‰", "å‰å®‰é„‰", "å£½è±é„‰", "å…‰å¾©é„‰", "è±æ¿±é„‰", "ç‘ç©—é„‰", "å¯Œé‡Œé„‰", "ç§€æ—é„‰", "è¬æ¦®é„‰", "å“æºªé„‰"],
            "è‡ºæ±ç¸£": ["è‡ºæ±å¸‚", "æˆåŠŸé®", "é—œå±±é®", "å‘å—é„‰", "å¤§æ­¦é„‰", "å¤ªéº»é‡Œé„‰", "æ±æ²³é„‰", "é•·æ¿±é„‰", "é¹¿é‡é„‰", "æ± ä¸Šé„‰", "ç¶ å³¶é„‰", "å»¶å¹³é„‰", "æµ·ç«¯é„‰", "é”ä»é„‰", "é‡‘å³°é„‰", "è˜­å¶¼é„‰"],
            "æ¾æ¹–ç¸£": ["é¦¬å…¬å¸‚", "æ¹–è¥¿é„‰", "ç™½æ²™é„‰", "è¥¿å¶¼é„‰", "æœ›å®‰é„‰", "ä¸ƒç¾é„‰"],
            "é‡‘é–€ç¸£": ["é‡‘åŸé®", "é‡‘æ¹–é®", "é‡‘æ²™é®", "é‡‘å¯§é„‰", "çƒˆå¶¼é„‰", "çƒåµé„‰"],
            "é€£æ±Ÿç¸£": ["å—ç«¿é„‰", "åŒ—ç«¿é„‰", "è’å…‰é„‰", "æ±å¼•é„‰"]
        };
    </script>

    <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"></iframe>

    <!-- æˆåŠŸè½åœ°é  (ç•¶è¦–çª—é—œä¸æ‰æ™‚é¡¯ç¤º) -->
    <div id="fallback-success" class="min-h-screen bg-milu-beige flex flex-col items-center justify-center p-6 animate-fade-in-up">
        <div class="w-full max-w-md bg-white p-8 rounded-3xl shadow-xl text-center">
            <div class="mb-6 w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto text-4xl text-green-500 shadow-inner">
                <i class="fa-solid fa-check"></i>
            </div>
            <h2 class="text-2xl font-bold text-milu-dark mb-2 font-serif">é ç´„å·²é€å‡ºï¼</h2>
            <p class="text-gray-500 mb-8 text-sm leading-relaxed">
                æˆ‘å€‘å·²æ”¶åˆ°æ‚¨çš„é ç´„ç”³è«‹<br>
                å°‡ç”±å°ˆäººç¢ºèªè¨‚å–®ç´°ç¯€å¾Œ<br>
                å‚³é€ã€åŒ¯æ¬¾è³‡è¨Šã€‘çµ¦æ‚¨<br>
                <span class="text-xs text-milu-gold mt-2 block font-bold">(è«‹ç•™æ„ LINE è¨Šæ¯é€šçŸ¥)</span>
            </p>
            
            <button onclick="liff.closeWindow()" class="w-full bg-milu-dark text-white py-4 rounded-xl font-bold mt-4 shadow-lg hover:bg-black transition transform active:scale-95">é—œé–‰è¦–çª—</button>
            <p class="text-xs text-gray-400 mt-4">è‹¥ç„¡æ³•è‡ªå‹•é—œé–‰ï¼Œè«‹é»æ“Šå·¦ä¸Šè§’ X</p>
        </div>
    </div>

    <!-- ä¸»é ç´„ç•«é¢ -->
    <div id="booking-page" class="max-w-lg mx-auto min-h-screen flex flex-col">
        <!-- Header -->
        <div class="glass-header px-6 py-4 flex items-center justify-between border-b border-gray-100/50">
            <div>
                <h1 class="text-2xl font-bold font-serif text-milu-gold tracking-wide">MILU BALLOONS</h1>
                <p class="text-[10px] text-gray-400 tracking-[0.2em] font-medium mt-1">MAKE YOUR MOMENT SPECIAL</p>
            </div>
            <div class="w-10 h-10 bg-white rounded-full shadow-sm flex items-center justify-center text-xl text-milu-gold">
                ğŸˆ
            </div>
        </div>

        <div class="px-5 py-6 flex-1">
            <!-- æœå‹™é¸å–® (Tabs) -->
            <div class="flex gap-3 overflow-x-auto no-scrollbar mb-8 pb-2">
                <button onclick="switchTab('deco')" id="btn-deco" class="tab-btn tab-active"><i class="fa-solid fa-wand-magic-sparkles mr-1"></i> å°ˆäººä½ˆç½®</button>
                <button onclick="switchTab('trunk')" id="btn-trunk" class="tab-btn"><i class="fa-solid fa-car-side mr-1"></i> å¾Œè»Šå»‚ä½ˆç½®</button>
                <button onclick="switchTab('delivery')" id="btn-delivery" class="tab-btn"><i class="fa-solid fa-truck-fast mr-1"></i> æ°£çƒå¤–é€</button>
                <button onclick="switchTab('pickup')" id="btn-pickup" class="tab-btn"><i class="fa-solid fa-shop mr-1"></i> å·¥ä½œå®¤è‡ªå–</button>
            </div>

            <!-- ç™½è‰²å¡ç‰‡å®¹å™¨ -->
            <div class="bg-white rounded-3xl shadow-xl p-6 md:p-8 animate-fade-in-up">
                
                <!-- 1. å°ˆäººä½ˆç½® -->
                <form id="form-deco" class="space-y-5" method="POST" target="hidden_iframe" onsubmit="return handleFormSubmit(event, this, 'deco')">
                    <!-- LINE åç¨± (éš±è—) -->
                    <input type="hidden" id="deco-line">
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div class="input-group">
                            <label class="input-label"><i class="fa-regular fa-calendar"></i> ä½ˆç½®æ—¥æœŸ</label>
                            <input type="date" id="deco-date" class="custom-input" required>
                        </div>
                        <div class="input-group">
                            <label class="input-label"><i class="fa-regular fa-clock"></i> é€²å ´æ™‚é–“</label>
                            <input type="time" id="deco-time" class="custom-input" required>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label class="input-label"><i class="fa-solid fa-map-location-dot"></i> ä½ˆç½®å€åŸŸ</label>
                        <div class="grid grid-cols-2 gap-4">
                            <select id="deco-city" class="custom-input" onchange="updateDistricts('deco')" required>
                                <option value="">è«‹é¸æ“‡ç¸£å¸‚</option>
                            </select>
                            <select id="deco-district" class="custom-input" required>
                                <option value="">è«‹é¸æ“‡å€åŸŸ</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label class="input-label"><i class="fa-solid fa-location-arrow"></i> è©³ç´°åœ°å€ / æ¨“å±¤</label>
                        <input type="text" id="deco-addr-detail" class="custom-input" placeholder="è·¯/è¡—/å··/å¼„/è™Ÿ/æ¨“" required>
                    </div>
                    <input type="hidden" id="deco-address" name="entry.362812274">

                    <div class="input-group">
                        <label class="input-label"><i class="fa-solid fa-building"></i> å ´åœ°åç¨±</label>
                        <input type="text" id="deco-location" class="custom-input" placeholder="ä¾‹ï¼šXXé£¯åº— 502è™Ÿæˆ¿" required>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div class="input-group">
                            <label class="input-label"><i class="fa-regular fa-user"></i> ç¾å ´è¯çµ¡äºº</label>
                            <input type="text" id="deco-name" class="custom-input" required>
                        </div>
                        <div class="input-group">
                            <label class="input-label"><i class="fa-solid fa-phone"></i> è¯çµ¡é›»è©±</label>
                            <input type="tel" id="deco-phone" class="custom-input" required>
                        </div>
                    </div>

                    <div class="checkbox-container">
                        <p class="text-sm font-bold text-milu-dark mb-3 border-b border-gray-100 pb-2"><i class="fa-solid fa-circle-exclamation text-milu-gold mr-1"></i> é ç´„é ˆçŸ¥èˆ‡æ¢æ¬¾</p>
                        <label class="checkbox-item"><input type="checkbox" class="checkbox-input dummy-term" required><span>æˆ‘å·²ç¢ºèªå ´åœ°å…è¨±é€²è¡Œæ°£çƒä½ˆç½®ï¼Œä¸¦å·²é€šçŸ¥å ´æ–¹ã€‚</span></label>
                        <label class="checkbox-item"><input type="checkbox" class="checkbox-input dummy-term" required><span>æˆ‘äº†è§£ç©ºé£„æ°£çƒæ¼‚æµ®æ™‚é–“ç´„ 6ï½8 å°æ™‚ï¼Œæœƒå®‰æ’åœ¨æ´»å‹•å‰ 1-2 å°æ™‚å®Œæˆä½ˆç½®ä»¥é”æœ€ä½³æ•ˆæœã€‚</span></label>
                        <label class="checkbox-item"><input type="checkbox" class="checkbox-input dummy-term" required><span>é—œæ–¼æ®˜è† é¢¨éšªï¼š æˆ‘äº†è§£å·¥ä½œå®¤ä½¿ç”¨ 3M ä¸æ˜“æ®˜è† å¸ƒè† ï¼Œä¸¦åŒæ„æ–¼ 36 å°æ™‚å…§ æ‹†é™¤ã€‚</span></label>
                        <label class="checkbox-item"><input type="checkbox" class="checkbox-input dummy-term" required><span>è‹¥è¶…é 36 å°æ™‚æœªæ‹†é™¤å°è‡´æ®˜è† æˆ–æ¼†é¢è„«è½ï¼Œæˆ–å› ç‰†é¢æè³ªç‰¹æ®Šé€ æˆææï¼Œæˆ‘åŒæ„å·¥ä½œå®¤ä¸è² ä¿®å¾©æˆ–è³ å„Ÿè²¬ä»»ã€‚</span></label>
                        <label class="checkbox-item"><input type="checkbox" class="checkbox-input dummy-term" required><span>é—œæ–¼ä½œæ¥­æ™‚é–“ï¼šæˆ‘äº†è§£å°ˆäººä½ˆç½®éœ€é ç•™ è‡³å°‘ 2 å°æ™‚ çš„æ–½ä½œæ™‚é–“ã€‚</span></label>
                        <label class="checkbox-item"><input type="checkbox" class="checkbox-input dummy-term" required><span>æˆ‘å·²è©³ç´°é–±è®€é ç´„é ˆçŸ¥èˆ‡æ¢æ¬¾</span></label>
                    </div>
                    
                    <div class="pt-2">
                        <button type="submit" class="w-full bg-milu-dark text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:bg-black transition transform active:scale-[0.98]">
                            æäº¤é ç´„ <span class="text-sm font-normal opacity-80 ml-1">(ä¸‹ä¸€æ­¥ï¼šç­‰å€™å ±åƒ¹)</span>
                        </button>
                    </div>
                </form>

                <!-- 2. æ°£çƒå¤–é€ -->
                <form id="form-delivery" class="hidden space-y-5" method="POST" target="hidden_iframe" onsubmit="return handleFormSubmit(event, this, 'delivery')">
                    <!-- LINE åç¨± (éš±è—) -->
                    <input type="hidden" id="delivery-line">

                    <div class="grid grid-cols-2 gap-4">
                        <div class="input-group">
                            <label class="input-label"><i class="fa-regular fa-calendar"></i> å¤–é€æ—¥æœŸ</label>
                            <input type="date" id="delivery-date" class="custom-input" required>
                        </div>
                        <div class="input-group">
                            <label class="input-label"><i class="fa-regular fa-clock"></i> é€é”æ™‚æ®µ</label>
                            <select id="delivery-time" class="custom-input" required>
                                <option value="" disabled selected>è«‹é¸æ“‡æ™‚æ®µ</option>
                                <option value="12:30 - 13:00">12:30 - 13:00</option>
                                <option value="13:00 - 14:00">13:00 - 14:00</option>
                                <option value="14:00 - 15:00">14:00 - 15:00</option>
                                <option value="15:00 - 16:00">15:00 - 16:00</option>
                                <option value="16:00 - 17:00">16:00 - 17:00</option>
                                <option value="17:00 - 18:00">17:00 - 18:00</option>
                                <option value="18:00 - 19:00">18:00 - 19:00</option>
                            </select>
                        </div>
                    </div>

                    <div class="input-group">
                        <label class="input-label"><i class="fa-solid fa-map-location-dot"></i> å¤–é€å€åŸŸ</label>
                        <div class="grid grid-cols-2 gap-4">
                            <select id="delivery-city" class="custom-input" onchange="updateDistricts('delivery')" required>
                                <option value="">è«‹é¸æ“‡ç¸£å¸‚</option>
                            </select>
                            <select id="delivery-district" class="custom-input" required>
                                <option value="">è«‹é¸æ“‡å€åŸŸ</option>
                            </select>
                        </div>
                    </div>
                    <div class="input-group">
                        <label class="input-label"><i class="fa-solid fa-location-arrow"></i> è©³ç´°åœ°å€ / æ¨“å±¤</label>
                        <input type="text" id="delivery-addr-detail" class="custom-input" placeholder="è·¯/è¡—/å··/å¼„/è™Ÿ (é™ä¸€æ¨“/ç®¡ç†å®¤)" required>
                    </div>
                    <input type="hidden" id="delivery-address" name="entry.1233565012">

                    <div class="grid grid-cols-2 gap-4">
                        <div class="input-group">
                            <label class="input-label"><i class="fa-regular fa-user"></i> æ”¶ä»¶äºº</label>
                            <input type="text" id="delivery-receiver" class="custom-input" required>
                        </div>
                        <div class="input-group">
                            <label class="input-label"><i class="fa-solid fa-phone"></i> é›»è©±</label>
                            <input type="tel" id="delivery-phone" class="custom-input" required>
                        </div>
                    </div>
                    
                    <div class="checkbox-container">
                        <p class="text-sm font-bold text-milu-dark mb-3 border-b border-gray-100 pb-2"><i class="fa-solid fa-circle-exclamation text-milu-gold mr-1"></i> é ç´„é ˆçŸ¥èˆ‡æ¢æ¬¾</p>
                        <label class="checkbox-item"><input type="checkbox" class="checkbox-input dummy-term" required><span>æˆ‘äº†è§£ç©ºé£„æ°£çƒæ™‚æ•ˆç´„ 6ï½8 å°æ™‚ï¼ˆéš¨æ™‚é–“æ°§åŒ–è®Šéœ§ï¼‰ï¼Œå·²ç¢ºèªé€é”æ™‚é–“ç¬¦åˆæ´»å‹•éœ€æ±‚ã€‚</span></label>
                        <label class="checkbox-item"><input type="checkbox" class="checkbox-input dummy-term" required><span>é—œæ–¼äº¤è²¨åœ°é»ï¼š æˆ‘äº†è§£å¤–é€åƒ…é…é€è‡³ ä¸€æ¨“æˆ–ç®¡ç†å®¤ï¼Œå¸æ©Ÿä¸ä¸Šæ¨“ï¼Œæˆ‘ï¼ˆæˆ–æ”¶ä»¶äººï¼‰æœƒå‰å¾€ä¸€æ¨“å–è²¨ã€‚</span></label>
                        <label class="checkbox-item"><input type="checkbox" class="checkbox-input dummy-term" required><span>é—œæ–¼å•†å“é©—æ”¶ï¼š å•†å“é€é”å¾Œï¼Œæˆ‘ï¼ˆæˆ–æ”¶ä»¶äººï¼‰æœƒç«‹å³ç¢ºèªæ°£çƒå®Œæ•´æ€§ã€‚</span></label>
                        <label class="checkbox-item"><input type="checkbox" class="checkbox-input dummy-term" required><span>è‹¥é€é”ç•¶ä¸‹æœ‰ç–‘æ…®ï¼Œæˆ‘æœƒç«‹å³å‘å¸æ©Ÿæˆ– LINE å®¢æœåæ˜ ã€‚</span></label>
                        <label class="checkbox-item"><input type="checkbox" class="checkbox-input dummy-term" required><span>è‹¥å•†å“é€é”å¾Œç„¡ç«‹å³åæ‡‰ï¼Œå¾ŒçºŒç ´ææˆ–æ¶ˆæ°£æœƒè‡ªè¡Œè² è²¬ã€‚</span></label>
                        <label class="checkbox-item"><input type="checkbox" class="checkbox-input dummy-term" required><span>æˆ‘å·²è©³ç´°é–±è®€é ç´„é ˆçŸ¥èˆ‡æ¢æ¬¾</span></label>
                    </div>
                    
                    <div class="pt-2">
                        <button type="submit" class="w-full bg-milu-dark text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:bg-black transition transform active:scale-[0.98]">
                            æäº¤é ç´„ <span class="text-sm font-normal opacity-80 ml-1">(ä¸‹ä¸€æ­¥ï¼šç­‰å€™å ±åƒ¹)</span>
                        </button>
                    </div>
                </form>

                <!-- 3. å·¥ä½œå®¤è‡ªå– -->
                <form id="form-pickup" class="hidden space-y-5" method="POST" target="hidden_iframe" onsubmit="return handleFormSubmit(event, this, 'pickup')">
                    <!-- LINE åç¨± (éš±è—) -->
                    <input type="hidden" id="pickup-line">
                    
                    <div class="input-group">
                        <label class="input-label"><i class="fa-solid fa-store"></i> å–è²¨åœ°é»</label>
                        <div class="flex gap-3">
                            <label class="radio-label">
                                <input type="radio" name="pickup-location-temp" value="æ¿æ©‹å·¥ä½œå®¤ï¼ˆæ±Ÿå­ç¿ ï¼‰" class="radio-input hidden" required onclick="document.getElementById('pickup-location').value=this.value">
                                <span>æ¿æ©‹å·¥ä½œå®¤</span>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="pickup-location-temp" value="å°ä¸­å·¥ä½œå®¤ï¼ˆå¤ªå¹³å€ï¼‰" class="radio-input hidden" onclick="document.getElementById('pickup-location').value=this.value">
                                <span>å°ä¸­å·¥ä½œå®¤</span>
                            </label>
                            <input type="hidden" id="pickup-location">
                        </div>
                    </div>

                    <div class="grid grid-cols-2 gap-4">
                        <div class="input-group">
                            <label class="input-label"><i class="fa-regular fa-calendar"></i> å–è²¨æ—¥æœŸ</label>
                            <input type="date" id="pickup-date" class="custom-input" required>
                        </div>
                        <div class="input-group">
                            <label class="input-label"><i class="fa-regular fa-clock"></i> å–è²¨æ™‚é–“</label>
                            <select id="pickup-time" class="custom-input" required>
                                <option value="" disabled selected>è«‹é¸æ“‡æ™‚æ®µ</option>
                                <option value="12:30 - 13:00">12:30 - 13:30</option>
                                <option value="13:00 - 14:00">13:00 - 14:00</option>
                                <option value="14:00 - 15:00">14:00 - 15:00</option>
                                <option value="15:00 - 16:00">15:00 - 16:00</option>
                                <option value="16:00 - 17:00">16:00 - 17:00</option>
                                <option value="17:00 - 18:00">17:00 - 18:00</option>
                                <option value="18:00 - 19:00">18:00 - 19:00</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div class="input-group">
                            <label class="input-label"><i class="fa-regular fa-user"></i> å–è²¨äººå§“å</label>
                            <input type="text" id="pickup-name" class="custom-input" required>
                        </div>
                        <div class="input-group">
                            <label class="input-label"><i class="fa-solid fa-phone"></i> é›»è©±</label>
                            <input type="tel" id="pickup-phone" class="custom-input" required>
                        </div>
                    </div>
                    
                    <div class="checkbox-container">
                         <p class="text-sm font-bold text-milu-dark mb-3 border-b border-gray-100 pb-2"><i class="fa-solid fa-circle-exclamation text-milu-gold mr-1"></i> é ç´„é ˆçŸ¥èˆ‡æ¢æ¬¾</p>
                        <label class="checkbox-item"><input type="checkbox" class="checkbox-input dummy-term" required><span>é—œæ–¼äº¤é€šå·¥å…·ï¼š æ°£çƒæ€•é¢¨å¹ä¸”é«”ç©å¤§ï¼Œæˆ‘æœƒå®‰æ’**ã€Œæ±½è»Šã€**å–è²¨ï¼ˆâŒå¼·çƒˆä¸å»ºè­°é¨æ©Ÿè»Šï¼‰ã€‚</span></label>
                        <label class="checkbox-item"><input type="checkbox" class="checkbox-input dummy-term" required><span>é—œæ–¼å¸æ©Ÿä»£å–ï¼š è‹¥å§”è¨—å¸æ©Ÿï¼ˆå¦‚ Uber/Lalamoveï¼‰ä»£å–ï¼Œæˆ‘ç†è§£å·¥ä½œå®¤åƒ…è² è²¬äº¤è²¨æ™‚çš„å®Œæ•´æ€§ï¼ˆæœƒæ‹ç…§ç•™å­˜ï¼‰ï¼Œé‹é€é€”ä¸­çš„ç ´æé¢¨éšªç”±æˆ‘è‡ªè¡Œæ‰¿æ“”ã€‚</span></label>
                        <label class="checkbox-item"><input type="checkbox" class="checkbox-input dummy-term" required><span>é—œæ–¼å•†å“é©—æ”¶ï¼š æˆ‘ï¼ˆæˆ–ä»£å–äººï¼‰æœƒåœ¨**ã€Œå–è²¨ç•¶ä¸‹ã€**ç¢ºèªå•†å“å®Œæ•´æ€§ï¼Œå¦‚æœ‰ç–‘æ…®æœƒç«‹å³åæ˜ ã€‚</span></label>
                        <label class="checkbox-item"><input type="checkbox" class="checkbox-input dummy-term" required><span>é›¢åº—å¾Œå…è²¬ï¼š å•†å“äº¤ä»˜é›¢åº—å¾Œï¼Œå› é‹é€éç¨‹ã€ç’°å¢ƒæº«åº¦æˆ–äººç‚ºæ“ å£“é€ æˆçš„æ¶ˆæ°£æˆ–ç ´æï¼Œå·¥ä½œå®¤æ•ä¸è² è²¬ã€‚</span></label>
                        <label class="checkbox-item"><input type="checkbox" class="checkbox-input dummy-term" required><span>é—œæ–¼æ™‚æ•ˆï¼š æˆ‘äº†è§£ç©ºé£„æ°£çƒæ™‚æ•ˆç´„ 6ï½8 å°æ™‚ï¼ˆä¾ç’°å¢ƒè€Œç•°ï¼‰ï¼Œæœƒéš¨æ™‚é–“æ°§åŒ–è®Šéœ§ æˆ– æ¶ˆæ°£ã€‚</span></label>
                        <label class="checkbox-item"><input type="checkbox" class="checkbox-input dummy-term" required><span>æˆ‘å·²è©³ç´°é–±è®€é ç´„é ˆçŸ¥èˆ‡æ¢æ¬¾</span></label>
                    </div>
                    
                    <div class="pt-2">
                        <button type="submit" class="w-full bg-milu-dark text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:bg-black transition transform active:scale-[0.98]">
                            æäº¤é ç´„ <span class="text-sm font-normal opacity-80 ml-1">(ä¸‹ä¸€æ­¥ï¼šç­‰å€™å ±åƒ¹)</span>
                        </button>
                    </div>
                </form>

                <!-- 4. å¾Œè»Šå»‚ä½ˆç½® -->
                <form id="form-trunk" class="hidden space-y-5" method="POST" target="hidden_iframe" onsubmit="return handleFormSubmit(event, this, 'trunk')">
                    <!-- LINE åç¨± (éš±è—) -->
                    <input type="hidden" id="trunk-line">
                    
                    <div class="input-group">
                        <label class="input-label"><i class="fa-solid fa-location-dot"></i> æ–½ä½œåœ°é»</label>
                        <div class="flex gap-3">
                            <label class="radio-label">
                                <input type="radio" name="trunk-location-temp" value="æ¿æ©‹å·¥ä½œå®¤ï¼ˆæ±Ÿå­ç¿ ï¼‰" class="radio-input hidden" required onclick="document.getElementById('trunk-location').value=this.value">
                                <span>æ¿æ©‹å·¥ä½œå®¤</span>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="trunk-location-temp" value="å°ä¸­å·¥ä½œå®¤ï¼ˆå¤ªå¹³å€ï¼‰" class="radio-input hidden" onclick="document.getElementById('trunk-location').value=this.value">
                                <span>å°ä¸­å·¥ä½œå®¤</span>
                            </label>
                            <input type="hidden" id="trunk-location">
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div class="input-group">
                            <label class="input-label"><i class="fa-regular fa-calendar"></i> ä½ˆç½®æ—¥æœŸ</label>
                            <input type="date" id="trunk-date" class="custom-input" required>
                        </div>
                        <div class="input-group">
                            <label class="input-label"><i class="fa-regular fa-clock"></i> æŠµé”æ™‚é–“</label>
                            <input type="time" id="trunk-time" class="custom-input" required>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label class="input-label"><i class="fa-solid fa-car"></i> è»Šæ¬¾å‹è™Ÿ</label>
                        <input type="text" id="trunk-car" class="custom-input" placeholder="ä¾‹å¦‚ï¼šToyota RAV4" required>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div class="input-group">
                            <label class="input-label"><i class="fa-regular fa-user"></i> å§“å</label>
                            <input type="text" id="trunk-name" class="custom-input" required>
                        </div>
                        <div class="input-group">
                            <label class="input-label"><i class="fa-solid fa-phone"></i> é›»è©±</label>
                            <input type="tel" id="trunk-phone" class="custom-input" required>
                        </div>
                    </div>
                    
                    <div class="checkbox-container">
                        <p class="text-sm font-bold text-milu-dark mb-3 border-b border-gray-100 pb-2"><i class="fa-solid fa-circle-exclamation text-milu-gold mr-1"></i> é ç´„é ˆçŸ¥èˆ‡æ¢æ¬¾</p>
                        <label class="checkbox-item"><input type="checkbox" class="checkbox-input dummy-term" required><span>é—œæ–¼ä½œæ¥­æ™‚é–“ï¼š æˆ‘äº†è§£å¾Œè»Šå»‚ä½ˆç½®éœ€é ç•™ è‡³å°‘ 1 å°æ™‚ çš„æ–½ä½œæ™‚é–“ï¼Œæˆ‘æœƒæº–æ™‚æŠµé”ã€‚</span></label>
                        <label class="checkbox-item"><input type="checkbox" class="checkbox-input dummy-term" required><span>é—œæ–¼æ™‚æ•ˆï¼š å¦‚æœ‰è¨‚è³¼ç©ºé£„æ°£çƒæˆ‘äº†è§£ç©ºé£„æ°£çƒæ™‚æ•ˆç´„ 6ï½8 å°æ™‚ï¼ˆä¾ç’°å¢ƒè€Œç•°ï¼‰ï¼Œå»ºè­°æ–¼æ´»å‹•å‰ 1ï½2 å°æ™‚å…§å®Œæˆä½ˆç½®ä»¥é”æœ€ä½³æ•ˆæœã€‚</span></label>
                        <label class="checkbox-item"><input type="checkbox" class="checkbox-input dummy-term" required><span>é—œæ–¼ç©ºé–“ï¼š æˆ‘æœƒæå‰æ¸…ç©ºå¾Œè»Šå»‚é›œç‰©ï¼Œä»¥ä¾¿ç¾å ´äººå“¡ç›´æ¥é€²è¡Œä½ˆç½®ã€‚</span></label>
                        <label class="checkbox-item"><input type="checkbox" class="checkbox-input dummy-term" required><span>é›¢å ´å¾Œå…è²¬ï¼š ä½ˆç½®å®Œæˆé©—æ”¶é›¢å ´å¾Œï¼Œå› è¡Œé§›éç¨‹æ™ƒå‹•ã€æº«åº¦è®ŠåŒ–æˆ–äººç‚ºå› ç´ å°è‡´çš„ç ´ææˆ–ä½ç§»ï¼Œå·¥ä½œå®¤æ•ä¸è² è²¬ã€‚</span></label>
                        <label class="checkbox-item"><input type="checkbox" class="checkbox-input dummy-term" required><span>æˆ‘å·²è©³ç´°é–±è®€é ç´„é ˆçŸ¥èˆ‡æ¢æ¬¾</span></label>
                    </div>
                    
                    <div class="pt-2">
                        <button type="submit" class="w-full bg-milu-dark text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:bg-black transition transform active:scale-[0.98]">
                            æäº¤é ç´„ <span class="text-sm font-normal opacity-80 ml-1">(ä¸‹ä¸€æ­¥ï¼šç­‰å€™å ±åƒ¹)</span>
                        </button>
                    </div>
                </form>
            </div>
            
            <div class="text-center mt-8 pb-4">
                <p class="text-[10px] text-milu-gold font-serif tracking-widest opacity-80">&copy; 2025 MILU BALLOONS</p>
            </div>
        </div>
    </div>

    <script>
        window.onload = function() {
            initAddressSelectors('deco');
            initAddressSelectors('delivery');
            if (config.LIFF_ID) {
                liff.init({ liffId: config.LIFF_ID }).then(() => {
                    if (!liff.isLoggedIn()) { liff.login(); } 
                    else {
                        liff.getProfile().then(profile => {
                            const displayName = profile.displayName;
                            document.getElementById('deco-line').value = displayName;
                            document.getElementById('delivery-line').value = displayName;
                            document.getElementById('pickup-line').value = displayName;
                            document.getElementById('trunk-line').value = displayName;
                        }).catch(e => console.log('Profile Error', e));
                    }
                }).catch(err => console.error('LIFF Init Error:', err));
            }
            bindFormInputs();
        };

        function initAddressSelectors(type) {
            const citySelect = document.getElementById(type + '-city');
            const districtSelect = document.getElementById(type + '-district');

            Object.keys(taiwanPlaces).forEach(city => {
                const option = document.createElement('option');
                option.value = city; option.text = city;
                citySelect.appendChild(option);
            });
        }
        function updateDistricts(type) {
            const citySelect = document.getElementById(type + '-city');
            const districtSelect = document.getElementById(type + '-district');
            const selectedCity = citySelect.value;
            districtSelect.innerHTML = '<option value="">è«‹é¸æ“‡å€åŸŸ</option>';
            if (selectedCity && taiwanPlaces[selectedCity]) {
                taiwanPlaces[selectedCity].forEach(district => {
                    const option = document.createElement('option');
                    option.value = district; option.text = district;
                    districtSelect.appendChild(option);
                });
            }
        }

        function bindFormInputs() {
            const decoForm = document.getElementById('form-deco');
            decoForm.action = config.DECO.ACTION;
            document.getElementById('deco-line').name = 'entry.' + config.DECO.LINE_ID;
            document.getElementById('deco-location').name = 'entry.' + config.DECO.LOCATION_ID;
            document.getElementById('deco-name').name = 'entry.' + config.DECO.NAME_ID;
            document.getElementById('deco-phone').name = 'entry.' + config.DECO.PHONE_ID;
            if(config.DECO.SYSTEM_ID) createHiddenInput(decoForm, 'entry.' + config.DECO.SYSTEM_ID, '');

            const deliveryForm = document.getElementById('form-delivery');
            if (config.DELIVERY.ACTION) {
                deliveryForm.action = config.DELIVERY.ACTION;
                document.getElementById('delivery-line').name = 'entry.' + config.DELIVERY.LINE_ID;
                document.getElementById('delivery-time').name = 'entry.' + config.DELIVERY.TIME_ID;
                document.getElementById('delivery-receiver').name = 'entry.' + config.DELIVERY.RECEIVER_ID;
                document.getElementById('delivery-phone').name = 'entry.' + config.DELIVERY.PHONE_ID;
                if(config.DELIVERY.SYSTEM_ID) createHiddenInput(deliveryForm, 'entry.' + config.DELIVERY.SYSTEM_ID, '');
            }
            const pickupForm = document.getElementById('form-pickup');
            if (config.PICKUP.ACTION) {
                pickupForm.action = config.PICKUP.ACTION;
                document.getElementById('pickup-line').name = 'entry.' + config.PICKUP.LINE_ID;
                document.getElementById('pickup-location').name = 'entry.' + config.PICKUP.LOCATION_ID;
                document.getElementById('pickup-time').name = 'entry.' + config.PICKUP.TIME_ID; 
                document.getElementById('pickup-name').name = 'entry.' + config.PICKUP.NAME_ID;
                document.getElementById('pickup-phone').name = 'entry.' + config.PICKUP.PHONE_ID;
                if(config.PICKUP.SYSTEM_ID) createHiddenInput(pickupForm, 'entry.' + config.PICKUP.SYSTEM_ID, '');
            }
            const trunkForm = document.getElementById('form-trunk');
            trunkForm.action = config.TRUNK.ACTION;
            document.getElementById('trunk-line').name = 'entry.' + config.TRUNK.LINE_ID;
            document.getElementById('trunk-location').name = 'entry.' + config.TRUNK.LOCATION_ID;
            document.getElementById('trunk-time').name = 'entry.' + config.TRUNK.TIME_ID;
            document.getElementById('trunk-car').name = 'entry.' + config.TRUNK.CAR_ID;
            document.getElementById('trunk-name').name = 'entry.' + config.TRUNK.NAME_ID;
            document.getElementById('trunk-phone').name = 'entry.' + config.TRUNK.PHONE_ID;
            if(config.TRUNK.SYSTEM_ID) createHiddenInput(trunkForm, 'entry.' + config.TRUNK.SYSTEM_ID, '');
        }

        function switchTab(type) {
             ['deco', 'delivery', 'pickup', 'trunk'].forEach(t => {
                const btn = document.getElementById('btn-' + t);
                const form = document.getElementById('form-' + t);
                if (t === type) {
                    btn.classList.add('tab-active'); 
                } else {
                    btn.classList.remove('tab-active'); 
                }
                if (form) { 
                    if (t === type) form.classList.remove('hidden');
                    else form.classList.add('hidden');
                }
            });
        }

        async function handleFormSubmit(event, form, type) {
            event.preventDefault(); 
            const configEntry = config[type.toUpperCase()];
            form.action = configEntry.ACTION;

            // ==========================================
            // [æ–°å¢/ä¿®æ”¹] è™•ç†é›»è©±è™Ÿç¢¼ï¼Œå¼·åˆ¶åŠ ä¸Š ' è™Ÿä»¥è§£æ±º Google Sheets 0 æ¶ˆå¤±å•é¡Œ
            // ==========================================
            const phoneInputId = type + '-phone';
            const phoneInput = document.getElementById(phoneInputId);
            
            if (phoneInput && phoneInput.value) {
                // å¦‚æœ input é‚„æœ‰ name å±¬æ€§ (ç¬¬ä¸€æ¬¡é€å‡º)ï¼Œå…ˆå­˜èµ·ä¾†ä¸¦ç§»é™¤ï¼Œé¿å…åŸç”Ÿ form é€å‡ºä¸å¸¶å–®å¼•è™Ÿçš„å€¼
                if (phoneInput.hasAttribute('name')) {
                    phoneInput.setAttribute('data-entry-name', phoneInput.name);
                    phoneInput.removeAttribute('name');
                }
                
                const entryName = phoneInput.getAttribute('data-entry-name');
                
                // ç§»é™¤èˆŠçš„ hidden input (å¦‚æœä½¿ç”¨è€…é‡è©¦æäº¤)
                const oldHidden = form.querySelector(`input[name="${entryName}"][type="hidden"]`);
                if (oldHidden) oldHidden.remove();

                // æª¢æŸ¥æ˜¯å¦å·²ç¶“æœ‰ ' è™Ÿ (é¿å…é‡è¤‡æ·»åŠ )ï¼Œä¸¦å»ºç«‹éš±è—æ¬„ä½é€å‡º
                let finalPhone = phoneInput.value;
                if (!finalPhone.startsWith("'")) {
                    finalPhone = "'" + finalPhone;
                }
                createHiddenInput(form, entryName, finalPhone);
            }
            // ==========================================
            // [çµæŸ] é›»è©±è™Ÿç¢¼è™•ç†
            // ==========================================

            // âš ï¸ é—œéµï¼šçµ„åˆåœ°å€ (ç¸£å¸‚+å€åŸŸ+è©³ç´°)
            if (type === 'deco' || type === 'delivery') {
                const city = document.getElementById(type + '-city').value;
                const district = document.getElementById(type + '-district').value;
                const detail = document.getElementById(type + '-addr-detail').value;

                if (!city || !district || !detail) {
                    Swal.fire({
                        title: 'è«‹å¡«å¯«å®Œæ•´åœ°å€',
                        text: 'ç¸£å¸‚ã€å€åŸŸèˆ‡è©³ç´°åœ°å€çš†ç‚ºå¿…å¡«',
                        icon: 'warning',
                        confirmButtonText: 'å¥½çš„',
                        confirmButtonColor: '#C69C6D'
                    });
                    return false;
                }
                
                let addressInput = document.getElementById(type + '-address');
                if (addressInput) {
                    addressInput.value = `${city}${district}${detail}`;
                } else {
                     createHiddenInput(form, 'entry.' + configEntry.ADDRESS_ID, `${city}${district}${detail}`);
                }
            }
            
            let sysInput = null;
            if (configEntry.SYSTEM_ID) {
                sysInput = form.querySelector(`input[name="entry.${configEntry.SYSTEM_ID}"]`);
                if (!sysInput) {
                    sysInput = document.createElement('input');
                    sysInput.type = 'hidden';
                    sysInput.name = 'entry.' + configEntry.SYSTEM_ID;
                    form.appendChild(sysInput);
                }
                if(liff.isInClient() && liff.isLoggedIn()) {
                    try {
                        const profile = await liff.getProfile();
                        sysInput.value = profile.userId;
                    } catch (e) {}
                }
            }
            
            if (configEntry.PAYMENT_ID) {
                let payInput = form.querySelector(`input[name="entry.${configEntry.PAYMENT_ID}"]`);
                if(!payInput) {
                    payInput = document.createElement('input');
                    payInput.type = 'hidden';
                    payInput.name = 'entry.' + configEntry.PAYMENT_ID;
                    form.appendChild(payInput);
                }
                payInput.value = 'âš ï¸ æœªä»˜æ¬¾';
            }
            if (configEntry.SERVICE_ID) {
                const serviceNameMap = { 'deco': 'å°ˆäººä½ˆç½®', 'delivery': 'æ°£çƒå¤–é€', 'trunk': 'å¾Œè»Šå»‚ä½ˆç½®', 'pickup': 'å·¥ä½œå®¤è‡ªå–' };
                let serviceInput = form.querySelector(`input[name="entry.${configEntry.SERVICE_ID}"]`);
                if (!serviceInput) {
                    serviceInput = document.createElement('input');
                    serviceInput.type = 'hidden';
                    serviceInput.name = 'entry.' + configEntry.SERVICE_ID;
                    form.appendChild(serviceInput);
                }
                serviceInput.value = serviceNameMap[type];
            }

            const dateInput = document.getElementById(type + '-date');
            if(dateInput && dateInput.value) {
                const parts = dateInput.value.split('-');
                createHiddenInput(form, 'entry.' + configEntry.DATE_ID + '_year', parts[0]);
                createHiddenInput(form, 'entry.' + configEntry.DATE_ID + '_month', parts[1]);
                createHiddenInput(form, 'entry.' + configEntry.DATE_ID + '_day', parts[2]);
                createHiddenInput(form, 'entry.' + configEntry.DATE_ID, dateInput.value); 
            }
            
            const timeInput = document.getElementById(type + '-time');
            if(timeInput && (type === 'deco' || type === 'trunk')) {
                 if(timeInput.value) {
                    const parts = timeInput.value.split(':');
                    createHiddenInput(form, 'entry.' + configEntry.TIME_ID + '_hour', parts[0]);
                    createHiddenInput(form, 'entry.' + configEntry.TIME_ID + '_minute', parts[1]);
                    createHiddenInput(form, 'entry.' + configEntry.TIME_ID, timeInput.value); 
                }
            }

            let terms = [];
            if(type === 'deco') {
                terms = ["æˆ‘å·²ç¢ºèªå ´åœ°å…è¨±é€²è¡Œæ°£çƒä½ˆç½®ï¼Œä¸¦å·²é€šçŸ¥å ´æ–¹ã€‚", "æˆ‘äº†è§£ç©ºé£„æ°£çƒæ¼‚æµ®æ™‚é–“ç´„ 6ï½8 å°æ™‚ï¼Œæœƒå®‰æ’åœ¨æ´»å‹•å‰ 1-2 å°æ™‚å®Œæˆä½ˆç½®ä»¥é”æœ€ä½³æ•ˆæœã€‚", "é—œæ–¼æ®˜è† é¢¨éšªï¼š æˆ‘äº†è§£å·¥ä½œå®¤ä½¿ç”¨ 3M ä¸æ˜“æ®˜è† å¸ƒè† ï¼Œä¸¦åŒæ„æ–¼ 36 å°æ™‚å…§ æ‹†é™¤ã€‚", "è‹¥è¶…é 36 å°æ™‚æœªæ‹†é™¤å°è‡´æ®˜è† æˆ–æ¼†é¢è„«è½ï¼Œæˆ–å› ç‰†é¢æè³ªç‰¹æ®Šé€ æˆææï¼Œæˆ‘åŒæ„å·¥ä½œå®¤ä¸è² ä¿®å¾©æˆ–è³ å„Ÿè²¬ä»»ã€‚", "é—œæ–¼ä½œæ¥­æ™‚é–“ï¼šæˆ‘äº†è§£å°ˆäººä½ˆç½®éœ€é ç•™ è‡³å°‘ 2 å°æ™‚ çš„æ–½ä½œæ™‚é–“ã€‚", "æˆ‘å·²è©³ç´°é–±è®€é ç´„é ˆçŸ¥èˆ‡æ¢æ¬¾"];
            } else if(type === 'delivery') {
                terms = ["æˆ‘äº†è§£ç©ºé£„æ°£çƒæ™‚æ•ˆç´„ 6ï½8 å°æ™‚ï¼ˆéš¨æ™‚é–“æ°§åŒ–è®Šéœ§ï¼‰ï¼Œå·²ç¢ºèªé€é”æ™‚é–“ç¬¦åˆæ´»å‹•éœ€æ±‚ã€‚", "é—œæ–¼äº¤è²¨åœ°é»ï¼š æˆ‘äº†è§£å¤–é€åƒ…é…é€è‡³ ä¸€æ¨“æˆ–ç®¡ç†å®¤ï¼Œå¸æ©Ÿä¸ä¸Šæ¨“ï¼Œæˆ‘ï¼ˆæˆ–æ”¶ä»¶äººï¼‰æœƒå‰å¾€ä¸€æ¨“å–è²¨ã€‚", "é—œæ–¼å•†å“é©—æ”¶ï¼š å•†å“é€é”å¾Œï¼Œæˆ‘ï¼ˆæˆ–æ”¶ä»¶äººï¼‰æœƒç«‹å³ç¢ºèªæ°£çƒå®Œæ•´æ€§ã€‚", "è‹¥é€é”ç•¶ä¸‹æœ‰ç–‘æ…®ï¼Œæˆ‘æœƒç«‹å³å‘å¸æ©Ÿæˆ– LINE å®¢æœåæ˜ ã€‚", "è‹¥å•†å“é€é”å¾Œç„¡ç«‹å³åæ‡‰ï¼Œå¾ŒçºŒç ´ææˆ–æ¶ˆæ°£æœƒè‡ªè¡Œè² è²¬ã€‚", "æˆ‘å·²è©³ç´°é–±è®€é ç´„é ˆçŸ¥èˆ‡æ¢æ¬¾"];
            } else if(type === 'pickup') {
                terms = ["é—œæ–¼äº¤é€šå·¥å…·ï¼š æ°£çƒæ€•é¢¨å¹ä¸”é«”ç©å¤§ï¼Œæˆ‘æœƒå®‰æ’**ã€Œæ±½è»Šã€**å–è²¨ï¼ˆâŒå¼·çƒˆä¸å»ºè­°é¨æ©Ÿè»Šï¼‰ã€‚", "é—œæ–¼å¸æ©Ÿä»£å–ï¼š è‹¥å§”è¨—å¸æ©Ÿï¼ˆå¦‚ Uber/Lalamoveï¼‰ä»£å–ï¼Œæˆ‘ç†è§£å·¥ä½œå®¤åƒ…è² è²¬äº¤è²¨æ™‚çš„å®Œæ•´æ€§ï¼ˆæœƒæ‹ç…§ç•™å­˜ï¼‰ï¼Œé‹é€é€”ä¸­çš„ç ´æé¢¨éšªç”±æˆ‘è‡ªè¡Œæ‰¿æ“”ã€‚", "é—œæ–¼å•†å“é©—æ”¶ï¼š æˆ‘ï¼ˆæˆ–ä»£å–äººï¼‰æœƒåœ¨**ã€Œå–è²¨ç•¶ä¸‹ã€**ç¢ºèªå•†å“å®Œæ•´æ€§ï¼Œå¦‚æœ‰ç–‘æ…®æœƒç«‹å³åæ˜ ã€‚", "é›¢åº—å¾Œå…è²¬ï¼š å•†å“äº¤ä»˜é›¢åº—å¾Œï¼Œå› é‹é€éç¨‹ã€ç’°å¢ƒæº«åº¦æˆ–äººç‚ºæ“ å£“é€ æˆçš„æ¶ˆæ°£æˆ–ç ´æï¼Œå·¥ä½œå®¤æ•ä¸è² è²¬ã€‚", "é—œæ–¼æ™‚æ•ˆï¼š æˆ‘äº†è§£ç©ºé£„æ°£çƒæ™‚æ•ˆç´„ 6ï½8 å°æ™‚ï¼ˆä¾ç’°å¢ƒè€Œç•°ï¼‰ï¼Œæœƒéš¨æ™‚é–“æ°§åŒ–è®Šéœ§ æˆ– æ¶ˆæ°£ã€‚", "æˆ‘å·²è©³ç´°é–±è®€é ç´„é ˆçŸ¥èˆ‡æ¢æ¬¾"];
            } else if(type === 'trunk') {
                terms = ["é—œæ–¼ä½œæ¥­æ™‚é–“ï¼š æˆ‘äº†è§£å¾Œè»Šå»‚ä½ˆç½®éœ€é ç•™ è‡³å°‘ 1 å°æ™‚ çš„æ–½ä½œæ™‚é–“ï¼Œæˆ‘æœƒæº–æ™‚æŠµé”ã€‚", "é—œæ–¼æ™‚æ•ˆï¼š å¦‚æœ‰è¨‚è³¼ç©ºé£„æ°£çƒæˆ‘äº†è§£ç©ºé£„æ°£çƒæ™‚æ•ˆç´„ 6ï½8 å°æ™‚ï¼ˆä¾ç’°å¢ƒè€Œç•°ï¼‰ï¼Œå»ºè­°æ–¼æ´»å‹•å‰ 1ï½2 å°æ™‚å…§å®Œæˆä½ˆç½®ä»¥é”æœ€ä½³æ•ˆæœã€‚", "é—œæ–¼ç©ºé–“ï¼š æˆ‘æœƒæå‰æ¸…ç©ºå¾Œè»Šå»‚é›œç‰©ï¼Œä»¥ä¾¿ç¾å ´äººå“¡ç›´æ¥é€²è¡Œä½ˆç½®ã€‚", "é›¢å ´å¾Œå…è²¬ï¼š ä½ˆç½®å®Œæˆé©—æ”¶é›¢å ´å¾Œï¼Œå› è¡Œé§›éç¨‹æ™ƒå‹•ã€æº«åº¦è®ŠåŒ–æˆ–äººç‚ºå› ç´ å°è‡´çš„ç ´ææˆ–ä½ç§»ï¼Œå·¥ä½œå®¤æ•ä¸è² è²¬ã€‚", "æˆ‘å·²è©³ç´°é–±è®€é ç´„é ˆçŸ¥èˆ‡æ¢æ¬¾"];
            }
            
            terms.forEach(t => createHiddenInput(form, 'entry.' + configEntry.TERMS_ID, t));

            submitted = true;
            form.submit();

            // æˆåŠŸç•«é¢åˆ‡æ› (ä¸é¡¯ç¤ºåŒ¯æ¬¾å¸³è™Ÿï¼Œåªé¡¯ç¤ºæˆåŠŸè¨Šæ¯)
            if (liff.isInClient()) {
                Swal.fire({
                    title: 'é ç´„ç”³è«‹å·²é€å‡ºï¼',
                    html: `
                        <div class="text-left text-sm text-gray-600 space-y-4">
                            <p class="text-center font-bold text-lg text-milu-gold">æ„Ÿè¬æ‚¨çš„é ç´„</p>
                            <p class="text-center text-gray-500">æˆ‘å€‘å·²æ”¶åˆ°æ‚¨çš„è³‡æ–™ï¼Œå°‡ç”±å°ˆäººç¢ºèªè¨‚å–®ç´°ç¯€å¾Œï¼Œå‚³é€ã€åŒ¯æ¬¾è³‡è¨Šã€‘çµ¦æ‚¨ï¼Œè«‹ç•™æ„ LINE è¨Šæ¯é€šçŸ¥ã€‚</p>
                        </div>
                    `,
                    icon: 'success',
                    confirmButtonText: 'å¥½çš„ï¼Œé—œé–‰è¦–çª—',
                    confirmButtonColor: '#4A4A4A',
                    background: '#FFFFFF',
                    width: '90%',
                    customClass: { 
                        title: 'font-serif text-milu-gold text-2xl font-bold', 
                        popup: 'rounded-2xl shadow-xl' 
                    },
                    allowOutsideClick: false
                }).then(() => {
                    const nameId = type === 'delivery' ? 'delivery-receiver' : type + '-name';
                    const nameVal = document.getElementById(nameId) ? document.getElementById(nameId).value : '-';
                    
                    sendFlexMessageAndClose(
                        type === 'deco' ? 'å°ˆäººä½ˆç½®' : (type === 'delivery' ? 'æ°£çƒå¤–é€' : (type === 'pickup' ? 'å·¥ä½œå®¤è‡ªå–' : 'å¾Œè»Šå»‚é©šå–œ')), 
                        nameVal, 
                        dateInput.value, 
                        timeInput.value
                    );
                });
            } else {
                // æ›´æ–°ç¶²é ç‰ˆæˆåŠŸç•«é¢å…§å®¹
                const fallbackContent = document.getElementById('fallback-content');
                if(fallbackContent) {
                     fallbackContent.innerHTML = `<p class="text-center text-gray-500">æˆ‘å€‘å·²æ”¶åˆ°æ‚¨çš„è³‡æ–™ï¼Œå°‡ç”±å°ˆäººç¢ºèªè¨‚å–®ç´°ç¯€å¾Œï¼Œå‚³é€ã€åŒ¯æ¬¾è³‡è¨Šã€‘çµ¦æ‚¨ï¼Œè«‹ç•™æ„ LINE è¨Šæ¯é€šçŸ¥ã€‚</p>`;
                }
                document.getElementById('booking-page').style.display = 'none';
                document.getElementById('fallback-success').style.display = 'flex';
            }

            return false;
        }

        function sendFlexMessageAndClose(service, name, date, time) {
             if (liff.isInClient()) {
                liff.sendMessages([{
                    type: 'flex',
                    altText: 'é ç´„ç”³è«‹å·²æ”¶åˆ°',
                    contents: {
                        "type": "bubble",
                        "size": "mega",
                        "body": {
                            "type": "box",
                            "layout": "vertical",
                            "contents": [
                                { "type": "text", "text": "é ç´„ç”³è«‹å·²æ”¶åˆ°", "weight": "bold", "color": "#C69C6D", "size": "sm" },
                                { "type": "text", "text": "æ„Ÿè¬æ‚¨çš„é ç´„ï¼", "weight": "bold", "size": "xl", "margin": "md" },
                                { "type": "text", "text": "å°ˆäººç¢ºèªä¸­ï¼Œç¨å¾Œç™¼é€åŒ¯æ¬¾è³‡è¨Š", "size": "xs", "color": "#aaaaaa", "wrap": true },
                                { "type": "separator", "margin": "xxl" },
                                {
                                    "type": "box", "layout": "vertical", "margin": "xxl", "spacing": "sm",
                                    "contents": [
                                        { "type": "box", "layout": "horizontal", "contents": [ { "type": "text", "text": "å§“å", "size": "sm", "color": "#555555", "flex": 0 }, { "type": "text", "text": name, "size": "sm", "color": "#111111", "align": "end" } ] },
                                        { "type": "box", "layout": "horizontal", "contents": [ { "type": "text", "text": "é …ç›®", "size": "sm", "color": "#555555", "flex": 0 }, { "type": "text", "text": service, "size": "sm", "color": "#111111", "align": "end" } ] },
                                        { "type": "box", "layout": "horizontal", "contents": [ { "type": "text", "text": "æ—¥æœŸ", "size": "sm", "color": "#555555", "flex": 0 }, { "type": "text", "text": date, "size": "sm", "color": "#111111", "align": "end" } ] },
                                        { "type": "box", "layout": "horizontal", "contents": [ { "type": "text", "text": "æ™‚é–“", "size": "sm", "color": "#555555", "flex": 0 }, { "type": "text", "text": time, "size": "sm", "color": "#111111", "align": "end" } ] }
                                    ]
                                },
                                { "type": "separator", "margin": "xxl" },
                                { "type": "box", "layout": "vertical", "margin": "md", "backgroundColor": "#F9F7F2", "cornerRadius": "md", "paddingAll": "md", "contents": [ { "type": "text", "text": "è«‹ç•™æ„å¾ŒçºŒ LINE é€šçŸ¥", "size": "xs", "color": "#C69C6D", "weight": "bold", "align": "center" } ] }
                            ]
                        }
                    }
                }]).then(() => {
                    setTimeout(() => { liff.closeWindow(); }, 500);
                }).catch((err) => {
                    console.log('Msg Error', err);
                    document.getElementById('booking-page').style.display = 'none';
                    document.getElementById('fallback-success').style.display = 'flex';
                    liff.closeWindow(); 
                });
            }
        }

        function createHiddenInput(form, name, value) {
            const input = document.createElement('input');
            input.type = 'hidden';
            input.name = name;
            input.value = value;
            form.appendChild(input);
        }
    </script>
</body>
</html>
